<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Map and Layers Concept</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="8f6464b9-058b-4427-93a1-a0ce88eab26e" /><meta name="Description" content="This page explains of which parts a map can consist and how maps and layers are related." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">PTV xServer .NET<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html\9e985ce7-8d43-434f-82bb-260b742553c1.htm" title="PTV xServer .NET" tocid="roottoc">PTV xServer .NET</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/7101665d-481f-449c-ae22-4f6a21aba3e8.htm" title="Concepts" tocid="7101665d-481f-449c-ae22-4f6a21aba3e8">Concepts</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/06a654f3-afbd-4f00-9c8e-36997e2a3951.htm" title="Shape Layer Concept" tocid="06a654f3-afbd-4f00-9c8e-36997e2a3951">Shape Layer Concept</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/efdeef71-8995-49a7-b15c-01f3dd65a3c8.htm" title="Custom Layers Concept" tocid="efdeef71-8995-49a7-b15c-01f3dd65a3c8">Custom Layers Concept</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/22E8CFA4-B9CE-4F97-A90D-C32E3AF957F9.htm" title="Coordinates Concept" tocid="22E8CFA4-B9CE-4F97-A90D-C32E3AF957F9">Coordinates Concept</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/918149a8-2996-40a9-878d-12a002e6b222.htm" title="Layer Priorities Concept" tocid="918149a8-2996-40a9-878d-12a002e6b222">Layer Priorities Concept</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/8f6464b9-058b-4427-93a1-a0ce88eab26e.htm" title="Map and Layers Concept" tocid="8f6464b9-058b-4427-93a1-a0ce88eab26e">Map and Layers Concept</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/28b979e6-9140-4d12-b62a-ef9a5be263a4.htm" title="Map Viewport Concept" tocid="28b979e6-9140-4d12-b62a-ef9a5be263a4">Map Viewport Concept</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/12bdf69b-60fc-4fe9-86e6-16b0adac2972.htm" title="Logging Concept" tocid="12bdf69b-60fc-4fe9-86e6-16b0adac2972">Logging Concept</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>Map and Layers Concept</h1></td></tr></table><span class="introStyle"></span> <div class="introduction"><p>
        This page explains of which parts a map can consist and how maps and layers are related.
      </p><p>
        In general, a map displays geographical data like towns, streets, rivers, seas and so on. On top of this data,
        additional map content can be displayed. The <a href="a5bc5d46-5eb8-4b50-be53-1ffa3f7bc7f4.htm">How To ...</a> chapter
        in this documentation shows a variety of different additional map content.
      </p><p>This page contains the following sections:</p><ul class="autoOutline"><li class="outlineSectionEntry"><a href="#MapTypes">Map Types</a></li><li class="outlineSectionEntry"><a href="#Map">Map</a></li><li class="outlineSectionEntry"><a href="#MapGadget">Map Gadget</a></li><li class="outlineSectionEntry"><a href="#MapView">Map View</a></li><li class="outlineSectionEntry"><a href="#LayerCollection">Layer Collection</a></li><li class="outlineSectionEntry"><a href="#Layer">Layer</a></li><li class="outlineSectionEntry"><a href="#Canvas">Canvas</a></li><li class="outlineSectionEntry"><a href="#seeAlsoSection">See Also</a></li></ul></div><div class="collapsibleAreaRegion" id="MapTypes"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Map Types</span></div><div id="ID0RBSection" class="collapsibleSection"><p>
          When working with PTV xServer .NET, between different representations of the map can be chosen.
          It is possible to either build a WPF application and work with the
          <a href="T_Ptv_XServer_Controls_Map_WpfMap.htm">WpfMap</a>. Or a Windows Forms application 
          can be implemented by using the <a href="T_Ptv_XServer_Controls_Map_FormsMap.htm">FormsMap</a> class.
          Last but not least, an own map can be built up in XAML by means of the main
          <a href="T_Ptv_XServer_Controls_Map_Map.htm">Map</a> class. The map layout described on
          this page applies to all these three classes. The following figure shows the whole layout, which is described
          in detail in the following sections.
        </p><div class="mediaCenter"><img alt="Map Layout" src="../media/MapLayout.png" /><div class="caption">Map and layers layout</div></div></div><div class="collapsibleAreaRegion" id="Map"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Map</span></div><div id="ID1RBSection" class="collapsibleSection"><p>
          The map is a unit containing the displayed geographic and additional content as well as gadgets to manipulate
          the display options. A map contains
          one <a href="T_Ptv_XServer_Controls_Map_LayerCollection.htm">LayerCollection</a>,
          one <a href="T_Ptv_XServer_Controls_Map_MapView.htm">MapView</a>
          and a free number of <a href="N_Ptv_XServer_Controls_Map_Gadgets.htm">Ptv.XServer.Controls.Map.Gadgets</a>.
        </p></div><div class="collapsibleAreaRegion" id="MapGadget"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Map Gadget</span></div><div id="ID2RBSection" class="collapsibleSection"><p>
          Using <a href="N_Ptv_XServer_Controls_Map_Gadgets.htm">Ptv.XServer.Controls.Map.Gadgets</a>, some controls 
          can be added to this map for manipulating its display. A fix set of gadgets is offered, for example showing
          the coordinates, the scale and other things. A list of all existing gadgets can be found in the
          <a href="eb8e522c-5ed2-4481-820f-bfd74ee2aeb8.htm">Use the Map Gadgets</a> chapter.
        </p><p>
          A map can contain as many different gadgets as needed. The
          <a href="T_Ptv_XServer_Controls_Map_WpfMap.htm">WpfMap</a> and
          <a href="T_Ptv_XServer_Controls_Map_FormsMap.htm">FormsMap</a> contain all available MapGadgets, 
          but it is possible to change their visibility. In turn, a MapGadget instance always belongs to one certain map.
        </p></div><div class="collapsibleAreaRegion" id="MapView"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Map View</span></div><div id="ID3RBSection" class="collapsibleSection"><p>
          Each map contains one <a href="T_Ptv_XServer_Controls_Map_MapView.htm">MapView</a> instance.
          The MapView instance is responsible for all zooming, panning, scrolling, scaling, printing and positioning
          actions in the map. Summarized these are all parameters affecting the current view on the map.
        </p><p>
          Like the map, all map gadgets hold a reference on one dedicated MapView to which they belong. The same holds
          for all map canvases which are responsible to display the additional content (see below). Just the
          LayerCollection can hold a whole set of MapView instances in order to show different layers on different maps
          (see below).
        </p></div><div class="collapsibleAreaRegion" id="LayerCollection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Layer Collection</span></div><div id="ID4RBSection" class="collapsibleSection"><p>
          In the map, all layers are held in a <a href="T_Ptv_XServer_Controls_Map_LayerCollection.htm">LayerCollection</a>.
          This collection offers adding, deleting and inserting single layers. A single layer shows additional content
          on the map. Dealing with multiple layers offers displaying objects on different topics separately on the map.
          Options like the visibility of these objects can thus be defined independently. Summarized, the
          <a href="T_Ptv_XServer_Controls_Map_LayerCollection.htm">LayerCollection</a> class is responsible
          for managing the layers. So to see a layer on the map at all, this layer has to be part of the LayerCollection.
        </p><p>
          Each map only contains one LayerCollection instance managing the contained layers. The LayerCollection
          instance holds one to many Layer instances. For showing the same layers in different
          maps, the LayerCollection holds a list of MapView instances on which the layers are to be displayed. Like
          this, multiple maps can reference the same LayerCollection in order to show the same content.
        </p></div><div class="collapsibleAreaRegion" id="Layer"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Layer</span></div><div id="ID5RBSection" class="collapsibleSection"><p>
          A map layer is used to display content like objects, symbols, shapes, text etc. in a map. It manages
          properties like opacity and drawing sequence of this content. The main spot of a layer is rendering the
          content on the map. This is done by using
          <a href="T_Ptv_XServer_Controls_Map_Canvases_MapCanvas.htm">MapCanvas</a> instances.
          Additionally, a layer can refer to an optional data provisioning part which is called the 'data source'.
          In PTV xServer .NET a base implementation of a layer
          (<a href="T_Ptv_XServer_Controls_Map_Layers_BaseLayer.htm">BaseLayer</a>) is offered and some specialized
          implementations (<a href="T_Ptv_XServer_Controls_Map_Layers_Untiled_UntiledLayer.htm">UntiledLayer</a>,
          <a href="T_Ptv_XServer_Controls_Map_Layers_Tiled_TiledLayer.htm">TiledLayer</a>,
          <a href="T_Ptv_XServer_Controls_Map_Layers_Shapes_ShapeLayer.htm">ShapeLayer</a>). For details
          regarding the usage of these layer types, please refer to the
          <a href="efdeef71-8995-49a7-b15c-01f3dd65a3c8.htm">Custom Layers Concept</a>.
        </p><p>
          The data provisioning part - also called the 'data source' - is responsible for acquiring the data which
          should be displayed on the map. A data source can either be a tiled or an untiled provider. Tiled providers
          offer the whole map data partitioned into small pieces meaning the map is composed of many small images.
          Untiled providers offer the map image in whole. "How To ..." articles on both types can be found in this
          documentation (see <a href="2f6d7ed1-b136-44dc-97c1-3f2c640c2134.htm">Add a WMS Layer</a> for an untiled provider sample
          and <a href="427ab62e-f02d-4e92-9c26-31e0f89d49c5.htm">Show a Shape File Content</a> for a tiled provider sample). Implementing a
          provider for a layer is optional. If the dataset is fix, it can be drawn directly in the map.
        </p><p>
          A layer can contain a whole set of canvases to be able to structure its data during rendering. Each
          <a href="T_Ptv_XServer_Controls_Map_Canvases_MapCanvas.htm">MapCanvas</a> is responsible for
          rendering e.g. for drawing a certain part of the layer content. Like this, a layer can differ when and how
          certain parts of the data are to be drawn. The <a href="efdeef71-8995-49a7-b15c-01f3dd65a3c8.htm">Custom Layers Concept</a>
          provides more information on this topic.
        </p></div><div class="collapsibleAreaRegion" id="Canvas"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID6RB')" onkeypress="SectionExpandCollapse_CheckKey('ID6RB', event)" tabindex="0"><img id="ID6RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Canvas</span></div><div id="ID6RBSection" class="collapsibleSection"><p>
          As already mentioned before, a layer can hold a whole set of
          <a href="N_Ptv_XServer_Controls_Map_Canvases.htm">Ptv.XServer.Controls.Map.Canvases</a>. A possible use case is to
          display different object types of one layer, but to separate them in different canvases.
          Indeed, most of the layers in the code samples do hold different canvases. One canvas is used to show the
          standard objects and a second one to show the selected objects. In this case, the selected objects are drawn
          on top of the standard objects. That is why the objects are separated into two canvases.
        </p><p>
          A <a href="T_Ptv_XServer_Controls_Map_Canvases_MapCanvas.htm">MapCanvas</a> always belongs to
          one certain layer. The map canvas has a back reference to the map view in order to listen to the map change
          events. When the displayed map region changes, the canvases have to be updated.
        </p></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID7RB')" onkeypress="SectionExpandCollapse_CheckKey('ID7RB', event)" tabindex="0"><img id="ID7RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID7RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="T_Ptv_XServer_Controls_Map_WpfMap.htm">WpfMap</a></div><div class="seeAlsoStyle"><a href="T_Ptv_XServer_Controls_Map_FormsMap.htm">FormsMap</a></div><div class="seeAlsoStyle"><a href="T_Ptv_XServer_Controls_Map_Map.htm">Map</a></div><div class="seeAlsoStyle"><a href="T_Ptv_XServer_Controls_Map_LayerCollection.htm">LayerCollection</a></div><div class="seeAlsoStyle"><a href="T_Ptv_XServer_Controls_Map_MapView.htm">MapView</a></div><div class="seeAlsoStyle"><a href="N_Ptv_XServer_Controls_Map_Gadgets.htm">Ptv.XServer.Controls.Map.Gadgets</a></div><div class="seeAlsoStyle"><a href="T_Ptv_XServer_Controls_Map_Canvases_MapCanvas.htm">MapCanvas</a></div><div class="seeAlsoStyle"><a href="T_Ptv_XServer_Controls_Map_Layers_BaseLayer.htm">BaseLayer</a></div><div class="seeAlsoStyle"><a href="T_Ptv_XServer_Controls_Map_Layers_Untiled_UntiledLayer.htm">UntiledLayer</a></div><div class="seeAlsoStyle"><a href="T_Ptv_XServer_Controls_Map_Layers_Tiled_TiledLayer.htm">TiledLayer</a></div><div class="seeAlsoStyle"><a href="T_Ptv_XServer_Controls_Map_Layers_Shapes_ShapeLayer.htm">ShapeLayer</a></div><h4 class="subHeading">Other Resources</h4><div class="seeAlsoStyle"><a href="a5bc5d46-5eb8-4b50-be53-1ffa3f7bc7f4.htm">How To ...</a></div><div class="seeAlsoStyle"><a href="eb8e522c-5ed2-4481-820f-bfd74ee2aeb8.htm">Use the Map Gadgets</a></div><div class="seeAlsoStyle"><a href="efdeef71-8995-49a7-b15c-01f3dd65a3c8.htm">Custom Layers Concept</a></div><div class="seeAlsoStyle"><a href="2f6d7ed1-b136-44dc-97c1-3f2c640c2134.htm">Add a WMS Layer</a></div><div class="seeAlsoStyle"><a href="427ab62e-f02d-4e92-9c26-31e0f89d49c5.htm">Show a Shape File Content</a></div></div></div></div><div id="pageFooter" class="pageFooter">Visit our website at <a href="http://www.ptvgroup.com">www.ptvgroup.com</a> or browse to <a href="http://xserver.ptvgroup.com">xserver.ptvgroup.com</a> for the latest information on our developer components.<p>Copyright (c) PTV Group, Karlsruhe, Germany.</p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:developer%40ptvgroup.com?Subject=PTV xServer .NET">developer@ptvgroup.com</a></div>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div></body></html>