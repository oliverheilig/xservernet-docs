<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Geocode an Address</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="fe48cb51-c6ce-487e-b4c0-168537c184c3" /><meta name="Description" content="The Geocoding sample shows how geocoding can be implemented with PTV xServer .NET. Geocoding is the task to find geographical coordinates for certain location properties like country, name, postal code, street and so on. Geocoding is e.g." /><meta name="Microsoft.Help.ContentType" content="Samples" /><meta name="BrandingAware" content="true" /><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">PTV xServer .NET<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html\9e985ce7-8d43-434f-82bb-260b742553c1.htm" title="PTV xServer .NET" tocid="roottoc">PTV xServer .NET</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/a5bc5d46-5eb8-4b50-be53-1ffa3f7bc7f4.htm" title="How To ..." tocid="a5bc5d46-5eb8-4b50-be53-1ffa3f7bc7f4">How To ...</a></div><div class="toclevel1 current" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/fe48cb51-c6ce-487e-b4c0-168537c184c3.htm" title="Geocode an Address" tocid="fe48cb51-c6ce-487e-b4c0-168537c184c3">Geocode an Address</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/c8915d39-f0d8-41c3-b663-03871fa9b236.htm" title="Geocoding call xLocate" tocid="c8915d39-f0d8-41c3-b663-03871fa9b236">Geocoding call xLocate</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e7cf9a7a-5451-47cd-affc-04f881f8160d.htm" title="Geocoding display addresses" tocid="e7cf9a7a-5451-47cd-affc-04f881f8160d">Geocoding display addresses</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>Geocode an Address</h1></td></tr></table><span class="introStyle"></span> <div class="introduction"><p>
        The Geocoding sample shows how geocoding can be implemented with PTV xServer .NET.
        Geocoding is the task to find geographical coordinates for certain location properties like country, name, postal code, street and so on.
        Geocoding is e.g. necessary for feeding the xRoute with locations for calculating a route.</p><p>This page contains the following sections:</p><ul class="autoOutline"><li class="outlineSectionEntry"><a href="#ImportantConcepts">Important concepts</a></li><li class="outlineSectionEntry"><a href="#GeocodeWithXLocateWebService">Geocode an address with the xLocate Web Service</a></li><li class="outlineSectionEntry"><a href="#DisplayingGeocodedAddresses">Displaying the geocoded addresses in the map</a></li><li class="outlineSectionEntry"><a href="#ProvidingUserInterface">Providing a user interface for entering address information</a></li><li class="outlineSectionEntry"><a href="#UseCases">Use case manual</a></li><li class="outlineSectionEntry"><a href="#seeAlsoSection">See Also</a></li></ul></div><div class="collapsibleAreaRegion" id="ImportantConcepts"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Important concepts</span></div><div id="ID0RBSection" class="collapsibleSection"><p>
          The <span class="term">Geocoding</span> use case uses an xLocate API which was originally generated by adding a 
          WebService reference to the project while specifying a WSDL-URL. It is important to check the option 
          "Generate asynchronous operations" to support an asynchronous workflow.
          In the following, certain topics are explained in detail to give an insight to how the use case is implemented.
        </p></div><div class="collapsibleAreaRegion" id="GeocodeWithXLocateWebService"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Geocode an address with the xLocate Web Service</span></div><div id="ID1RBSection" class="collapsibleSection"><p>As mentioned before the xRoute API is called asynchronously. That means code is needed which:</p><ul><li><p>triggers a request</p></li><li><p>provides an entry point for the response callback</p></li></ul><p><a href="c8915d39-f0d8-41c3-b663-03871fa9b236.htm">The details of such an implementation can be found here.</a></p></div><div class="collapsibleAreaRegion" id="DisplayingGeocodedAddresses"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Displaying the geocoded addresses in the map</span></div><div id="ID2RBSection" class="collapsibleSection"><p>
          For displaying the addresses in the map a <a href="T_Ptv_XServer_Controls_Map_Layers_Shapes_ShapeLayer.htm">ShapeLayer</a>
          is used. The concept therefore is very easy:
        </p><ul><li><p>
              Create controls which should be displayed in the ShapeLayer. These controls have to be <a href="http://msdn2.microsoft.com/en-us/library/ms602714" target="_blank">FrameworkElement</a>s.
            </p></li><li><p>
              For visualizing the way points, the <a href="T_Ptv_XServer_Controls_Map_Symbols_Pin.htm">Pin</a> control is used.
            </p></li><li><p>Last but not least don´t forget to set the map envelope appropriately to get the addresses into view.</p></li></ul><p><a href="e7cf9a7a-5451-47cd-affc-04f881f8160d.htm">The details of such an implementation can be found here.</a></p></div><div class="collapsibleAreaRegion" id="ProvidingUserInterface"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Providing a user interface for entering address information</span></div><div id="ID3RBSection" class="collapsibleSection"><p>Two basic concepts are implemented:</p><ul><li><p>A single field control which supports the user with proposals.</p></li><li><p>A multi field control where the user can enter each address property separately without proposal.</p></li></ul><p>The implementation of these two concepts is not covered by this documentation for now. Please inspect the source code of the use case to 
          get an insight on this topic.</p></div><div class="collapsibleAreaRegion" id="UseCases"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Use case manual</span></div><div id="ID4RBSection" class="collapsibleSection"><p>This section describes how to use the <span class="term">Geocoding</span> use case in the Demo Center sample.</p><p>This section contains the following subsections:</p><ul class="autoOutline"><li class="outlineSectionEntry"><a href="#UseCase1">How to switch between Multi- and Single-Field modes</a></li><li class="outlineSectionEntry"><a href="#UseCase2">How to operate in Multi-Field mode</a></li><li class="outlineSectionEntry"><a href="#UseCase3">How to operate in Single-Field mode</a></li></ul><h4 class="subHeading" id="UseCase1">How to switch between Multi- and Single-Field modes</h4><div class="subsection"><p>With the radio buttons highlighted in the image below between the Single- and the Multi-Field mode can be switched.</p><div class="mediaCenter"><img alt="Geocoding" src="../media/Geocoding.png" /><div class="caption">Geocoding use case</div></div></div><h4 class="subHeading" id="UseCase2">How to operate in Multi-Field mode</h4><div class="subsection"><p>
              In the Multi-Field mode the user has to fill each property of the location in a separate field. To trigger the geocoding press the 'Locate' button in the lower right corner.
            </p><div class="mediaCenter"><img alt="Geocoding multi" src="../media/Geocoding_multi.png" /><div class="caption">Multi field geocoding</div></div><p>
              The description of the location properties is as follows:
            </p><div class="tableSection"><table><tr><th><p>Property</p></th><th><p>Description</p></th></tr><tr><td><p>Country</p></td><td><p>The country identifier to limit the search to a specific country, e.g. 'd' for Germany or 'ch' for Switzerland. Leave empty to search in all countries.</p></td></tr><tr><td><p>State</p></td><td><p>The state to limit the search to a specific state e.g. 'Sachsen'. Leave empty to search in all states.</p></td></tr><tr><td><p>Postal Code</p></td><td><p>The postal code to limit the search. Leave empty to search in all postal codes.</p></td></tr><tr><td><p>City</p></td><td><p>The name of a city to limit the search to a specific city. Leave empty to search in all cities.</p></td></tr><tr><td><p>City2</p></td><td><p>Further constraint for the city name. Leave empty to search in all cities.</p></td></tr><tr><td><p>Street and House Number</p></td><td><p>The name of the street and the house number to limit the search to a specific street. Leave empty to search in all streets.</p></td></tr></table></div></div><h4 class="subHeading" id="UseCase3">How to operate in Single-Field mode</h4><div class="subsection"><p>
              In the Single-Field mode the user enters the search criteria as a comma separated list in one entry field. While typing suggestions are made and listed below the input field.
              To trigger the geocoding press the 'Locate' button in the upper right corner.
            </p><div class="mediaCenter"><img alt="Geocoding single" src="../media/Geocoding_single.png" /><div class="caption">Single field geocoding</div></div><p>
              The format of the search string is not arbitrarily. The order is as follows: country, state, postal code, city, street, house number.
            </p></div></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID5RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="T_Ptv_XServer_Controls_Map_Layers_Shapes_ShapeLayer.htm">ShapeLayer</a></div><h4 class="subHeading">Other Resources</h4><div class="seeAlsoStyle"><a href="c8915d39-f0d8-41c3-b663-03871fa9b236.htm">Geocoding call xLocate</a></div><div class="seeAlsoStyle"><a href="e7cf9a7a-5451-47cd-affc-04f881f8160d.htm">Geocoding display addresses</a></div></div></div></div><div id="pageFooter" class="pageFooter">Visit our website at <a href="http://www.ptvgroup.com">www.ptvgroup.com</a> or browse to <a href="http://xserver.ptvgroup.com">xserver.ptvgroup.com</a> for the latest information on our developer components.<p>Copyright (c) PTV Group, Karlsruhe, Germany.</p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:developer%40ptvgroup.com?Subject=PTV xServer .NET">developer@ptvgroup.com</a></div>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div></body></html>