<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Apply a UI Theme</title><meta name="Language" content="en-us" /><meta name="Microsoft.Help.Id" content="90fd0772-df3b-473b-a305-6ee939193c7f" /><meta name="Description" content="The &quot;Switch Themes&quot; sample shows how WPF based theming can be implemented with XAML using PTV xServer .NET." /><meta name="Microsoft.Help.ContentType" content="Samples" /><meta name="BrandingAware" content="true" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-1.11.0.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">PTV xServer .NET<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html\9e985ce7-8d43-434f-82bb-260b742553c1.htm" title="PTV xServer .NET" tocid="roottoc">PTV xServer .NET</a></div><div class="toclevel1" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/a5bc5d46-5eb8-4b50-be53-1ffa3f7bc7f4.htm" title="How To ..." tocid="a5bc5d46-5eb8-4b50-be53-1ffa3f7bc7f4">How To ...</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/5ff21e55-6f37-451d-acae-9321ca31836d.htm" title="XServer Connection" tocid="5ff21e55-6f37-451d-acae-9321ca31836d">XServer Connection</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/714dc4ba-10d3-4a8d-a55d-6210630ff6eb.htm" title="Show Here Satellite View" tocid="714dc4ba-10d3-4a8d-a55d-6210630ff6eb">Show Here Satellite View</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/4926f311-8333-4b18-b509-70c1d876d5eb.htm" title="Show Clusters" tocid="4926f311-8333-4b18-b509-70c1d876d5eb">Show Clusters</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/101dba72-fb36-468b-aa99-4b9c5bbfb62f.htm" title="Add Different Shapes" tocid="101dba72-fb36-468b-aa99-4b9c5bbfb62f">Add Different Shapes</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e9f559c7-394c-4858-8a40-4744d2fc7200.htm" title="Integrate an additional WPF map" tocid="e9f559c7-394c-4858-8a40-4744d2fc7200">Integrate an additional WPF map</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/6b437145-f3ed-4267-a3fc-e71737e6db65.htm" title="Add a GeoRSS Layer" tocid="6b437145-f3ed-4267-a3fc-e71737e6db65">Add a GeoRSS Layer</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/d705537f-f7fe-435c-bd80-d4d399ee4410.htm" title="Show Map&amp;Market Data" tocid="d705537f-f7fe-435c-bd80-d4d399ee4410">Show Map&amp;Market Data</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/427ab62e-f02d-4e92-9c26-31e0f89d49c5.htm" title="Show a Shape File Content" tocid="427ab62e-f02d-4e92-9c26-31e0f89d49c5">Show a Shape File Content</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/2f6d7ed1-b136-44dc-97c1-3f2c640c2134.htm" title="Add a WMS Layer" tocid="2f6d7ed1-b136-44dc-97c1-3f2c640c2134">Add a WMS Layer</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/fccd9937-aa04-4803-936d-7796cb966963.htm" title="Selection" tocid="fccd9937-aa04-4803-936d-7796cb966963">Selection</a></div><div class="toclevel2 current" data-toclevel="2"><a data-tochassubtree="false" href="../html/90fd0772-df3b-473b-a305-6ee939193c7f.htm" title="Apply a UI Theme" tocid="90fd0772-df3b-473b-a305-6ee939193c7f">Apply a UI Theme</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/fe48cb51-c6ce-487e-b4c0-168537c184c3.htm" title="Geocode an Address" tocid="fe48cb51-c6ce-487e-b4c0-168537c184c3">Geocode an Address</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/e7c12cc4-3819-470e-867a-b521bee43cf0.htm" title="Elementary Routing" tocid="e7c12cc4-3819-470e-867a-b521bee43cf0">Elementary Routing</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/e4c416a0-9573-4df8-b733-3bf72539ef0f.htm" title="Drag&amp;Drop Routing" tocid="e4c416a0-9573-4df8-b733-3bf72539ef0f">Drag&amp;Drop Routing</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/34f6b520-454f-4a6a-b0ae-00fc77da512b.htm" title="Tour Planning" tocid="34f6b520-454f-4a6a-b0ae-00fc77da512b">Tour Planning</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/eb8e522c-5ed2-4481-820f-bfd74ee2aeb8.htm" title="Use the Map Gadgets" tocid="eb8e522c-5ed2-4481-820f-bfd74ee2aeb8">Use the Map Gadgets</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/fdaa5363-b092-43cc-950e-6f120dee0d92.htm" title="Set the Map Location" tocid="fdaa5363-b092-43cc-950e-6f120dee0d92">Set the Map Location</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/b55f5d50-a421-4951-bc01-d5fb85c94f54.htm" title="Add an XMapServer Layer" tocid="b55f5d50-a421-4951-bc01-d5fb85c94f54">Add an XMapServer Layer</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/91617b6b-1086-4c05-a1ce-4c64f8bc7dcd.htm" title="Add a Custom Layer" tocid="91617b6b-1086-4c05-a1ce-4c64f8bc7dcd">Add a Custom Layer</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/88521cb3-0770-4f9c-9e47-74b6ea02b6eb.htm" title="Build an ActiveX Control" tocid="88521cb3-0770-4f9c-9e47-74b6ea02b6eb">Build an ActiveX Control</a></div><div class="toclevel2" data-toclevel="2"><a data-tochassubtree="false" href="../html/1cdf95ec-699c-4d92-bc98-df93503e5a4e.htm" title="Build a C++/MFC application" tocid="1cdf95ec-699c-4d92-bc98-df93503e5a4e">Build a C++/MFC application</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>Apply a UI Theme</h1></td></tr></table><span class="introStyle"></span> <div class="introduction"><p>The "Switch Themes" sample shows how WPF based theming can be implemented with XAML using PTV xServer .NET.</p><p>This page contains the following sections:</p><ul class="autoOutline"><li class="outlineSectionEntry"><a href="#ImportantConcepts">Important concepts</a></li><li class="outlineSectionEntry"><a href="#DefaultTheme">Using the default theme of the map</a></li><li class="outlineSectionEntry"><a href="#ProvidedPTVThemes">Using one of the provided PTV themes</a></li><li class="outlineSectionEntry"><a href="#UsingOwnThemeFile">Using an own theme file</a></li><li class="outlineSectionEntry"><a href="#UseCases">Use case manual</a></li></ul></div><div class="collapsibleAreaRegion" id="ImportantConcepts"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Important concepts</span></div><div id="ID0RBSection" class="collapsibleSection"><p>
          In WPF it is possible to use themes to show different objects in a predefined color scheme. Using the PTV
          xServer .NET map, the map gadgets can be designed with a theme to show them in the color
          which is best in line with the application. Three different ways are implemented how to set the theme
          visible in the map.
        </p></div><div class="collapsibleAreaRegion" id="DefaultTheme"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID1RB')" onkeypress="SectionExpandCollapse_CheckKey('ID1RB', event)" tabindex="0"><img id="ID1RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Using the default theme of the map</span></div><div id="ID1RBSection" class="collapsibleSection"><p>
          The first possibility to affect the map gadget color is to use the predefined theme. A
          PTV default theme is delivered which is automatically applied when the map is used. Applying the standard theme,
          the map gadgets are displayed with a dark silver background and a light gray foreground color.
        </p><p>
          by the parameter
          <a href="P_Ptv_XServer_Controls_Map_Map_UseDefaultTheme.htm">UseDefaultTheme</a> it can be defined,
          whether the default theme is to be applied. By default, this parameter is set to true. To change the color, 
          it has to be set to false and one of the two possibilities described below has to be used to affect the map gadget color.
        </p></div><div class="collapsibleAreaRegion" id="ProvidedPTVThemes"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Using one of the provided PTV themes</span></div><div id="ID3RBSection" class="collapsibleSection"><p>
          If the default PTV theme is not in line with the application's color scheme, it is possible to
          change the color of the map gadgets. For this purpose, the following different themes are available:
        </p><ul><li><p>PTVBlack.xaml - Showing the map gadgets in a black color scheme.</p></li><li><p>PTVBlue.xaml - Showing the map gadgets in a blue color scheme. </p></li><li><p>PTVGreen.xaml - Showing the map gadgets in a green color scheme. </p></li><li><p>PTVSilver.xaml - Showing the map gadgets in a silver color scheme. </p></li></ul><p>
          To use one of these themes, the following has to be done:
        </p><ul><li><p>
              Set the <a href="P_Ptv_XServer_Controls_Map_Map_UseDefaultTheme.htm">UseDefaultTheme</a>
              parameter to false. Like this, it is indicated that the default PTV theme is not to be used. The 
              following code can be used in the XAML file:
            </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID2EAABAADAAA_tab1" class="codeSnippetContainerTabSingle">Setting the UseDefaultTheme parameter in your XAML file.</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID2EAABAADAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID2EAABAADAAA');return false;" title="Copy">Copy</a></div></div><div id="ID2EAABAADAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-xml-bracket">&lt;</span><span class="highlight-xml-tag">map:WpfMap</span> <span class="highlight-xml-attribute-name">x:Name</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"wpfMap"</span> <span class="highlight-xml-attribute-name">UseDefaultTheme</span><span class="highlight-xml-attribute-equal">=</span><span class="highlight-xml-attribute-value">"False"</span> <span class="highlight-xml-bracket">/&gt;</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID2EAABAADAAA");</script></li><li><p>
              Use the <a href="M_Ptv_XServer_Controls_Map_Map_SetThemeFromXaml.htm">SetThemeFromXaml(Stream)</a>
              method. This method loads a certain theme from a XAML file and uses this theme for display. The XAML
              file has to be entered to this method as a "System.IO.Stream". The PTV xServer .NET Demo Center shows
              the use of this method together with XAML files which have been compiled into the assembly as
              "Embedded Resource" before. The files can be found in the "Resources\Themes" folder of the
              project. This is how setting a certain XAML file is implemented in the sample code:
            </p><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID2EAAAAADAAA_tab1" class="codeSnippetContainerTabSingle">Example from the Demo Center</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID2EAAAAADAAA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID2EAAAAADAAA');return false;" title="Copy">Copy</a></div></div><div id="ID2EAAAAADAAA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-comment">/// &lt;summary&gt; Event handler for changing the UI theme according the new combo box entry. &lt;/summary&gt;</span>
<span class="highlight-comment">/// &lt;param name="sender"&gt; Sender of the Changed event. &lt;/param&gt;</span>
<span class="highlight-comment">/// &lt;param name="e"&gt; Event parameters. &lt;/param&gt;</span>
<span class="highlight-keyword">private</span> <span class="highlight-keyword">void</span> UIThemeComboBox_OnSelectionChanged(<span class="highlight-keyword">object</span> sender, SelectionChangedEventArgs e)
{
    <span class="highlight-keyword">var</span> theme = <span class="highlight-literal">"Ptv.XServer.Demo.Resources.Themes.PTV"</span> + UIThemeComboBox.SelectedValue + <span class="highlight-literal">".xaml"</span>;
    <span class="highlight-keyword">var</span> assembly = System.Reflection.Assembly.GetAssembly(<span class="highlight-keyword">typeof</span>(MainWindow));
    <span class="highlight-keyword">using</span> (<span class="highlight-keyword">var</span> themeFile = assembly.GetManifestResourceStream(theme))
        wpfMap?.SetThemeFromXaml(themeFile);
}</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID2EAAAAADAAA");</script></li></ul></div><div class="collapsibleAreaRegion" id="UsingOwnThemeFile"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Using an own theme file</span></div><div id="ID4RBSection" class="collapsibleSection"><p>
          The third possibility to change the appearance of the map gadgets is to provide a valid XAML stream which
          can originate from a file, a network location or anything else offering a XAML stream. The advantage of
          using an own XAML is that the colors to be used can be chosen freely. But be careful when writing your
          own XAML. The PTV xServer .NET map gadgets require a certain XAML structure. A number of elements have to
          be defined in the XAML to assure that all gadgets are shown correctly in matching colors. That is why
          it is recommended to use one of the delivered theming files as a base and just editing the color values. The
          delivered theming sample files can be found in the "Resources\Themes" folder of the project.
        </p><p>
          For an own-designed XAML file which should be used as theme, this file has be compiled into the
          assembly like shown in the sample. Like this, the file can easily be loaded as a stream. To compile a XAML
          file into the assembly, the "Build Action" property has to be set to "Embedded Resource".
        </p><div class="mediaCenter"><img alt="Embedded Resource" src="../media/EmbeddedResource.png" /><div class="caption">Set the "Build Action" property to "Embedded Resource".</div></div><p>
          After having done this, proceed like described for the provided PTV sample themes:
        </p><ul><li><p>
              Set the <a href="P_Ptv_XServer_Controls_Map_Map_UseDefaultTheme.htm">UseDefaultTheme</a>
              parameter to false.
            </p></li><li><p>
              Call the <a href="M_Ptv_XServer_Controls_Map_Map_SetThemeFromXaml.htm">SetThemeFromXaml(Stream)</a>
              method with your own file as a stream.
            </p></li></ul></div><div class="collapsibleAreaRegion" id="UseCases"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Use case manual</span></div><div id="ID5RBSection" class="collapsibleSection"><p>This section describes how to use the <span class="term">Switch UI Theme</span> use case in the Demo Center sample.</p><h4 class="subHeading" id="UseCase1">How to switch the UI theme</h4><div class="subsection"><p>
              The Switch UI Theme sample shows how to change the UI theme of the map. In the Demo Center UI, one of the listed themes
              provided by the combo box can be selected. This can be done at runtime without restarting the
              application. As the map is WPF based, the powerful theming concept of WPF and thus a standard .NET
              mechanism is used. As soon as a new theme is selected, the map gadgets are shown in the new color scheme.
            </p><div class="mediaCenter"><img alt="Theming" src="../media/Theming.png" /><div class="caption">Switch UI Theme with "PTV Blue" map gadgets</div></div></div></div></div></div><div id="pageFooter" class="pageFooter">Visit our website at <a href="http://www.ptvgroup.com">www.ptvgroup.com</a> or browse to <a href="http://xserver.ptvgroup.com">xserver.ptvgroup.com</a> for the latest information on our developer components.<p>Copyright (c) PTV Group, Karlsruhe, Germany.</p><div class="feedbackLink">Send comments on this topic to
        <a id="HT_MailLink" href="mailto:developer%40ptvgroup.com?Subject=PTV xServer .NET">developer@ptvgroup.com</a></div>
        <script type="text/javascript">
        var HT_mailLink = document.getElementById("HT_MailLink");
        var HT_mailLinkText = HT_mailLink.innerHTML;
        HT_mailLink.href += ": " + document.title + "\u0026body=" + encodeURIComponent("Your feedback is used to improve the documentation and the product. Your e-mail address will not be used for any other purpose and is disposed of after the issue you report is resolved. While working to resolve the issue that you report, you may be contacted via e-mail to get further details or clarification on the feedback you sent. After the issue you report has been addressed, you may receive an e-mail to let you know that your feedback has been addressed.");
        HT_mailLink.innerHTML = HT_mailLinkText;
        </script></div></body></html>